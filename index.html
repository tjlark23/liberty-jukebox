<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Liberty Jukebox</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Crimson+Pro:ital,wght@0,400;1,400;1,600&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
<style>

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg:         #000000;
  --surface:    #1e1e1a;
  --surface2:   #2a2a24;
  --surface3:   #343430;
  --border:     rgba(255,255,255,0.12);
  --border2:    rgba(255,255,255,0.22);
  --white:      #ffffff;
  --cream:      #f0e6c0;
  --cream2:     #c8b880;
  --muted:      rgba(240,230,192,0.45);
  --red:        #002868;
  --red-glow:   rgba(0,40,104,0.4);
  --red-dim:    rgba(0,40,104,0.2);
  --gold:       #e8a820;
  --left-w: 360px;
  --player-h: 76px;
  --topbar-h: 48px;
  --tabs-h: 52px;
}

html { font-size: 16px; }

body {
  background: var(--bg);
  color: var(--white);
  font-family: 'JetBrains Mono', monospace;
  overflow: hidden;
  height: 100vh;
}

body::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
  opacity: 0.025;
  pointer-events: none;
  z-index: 9998;
}

/* ── Top bar ── */
.topbar {
  position: fixed;
  top: 0; left: 0; right: 0;
  height: var(--topbar-h);
  background: var(--bg);
  border-bottom: 1px solid var(--border2);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 1.5rem;
  z-index: 900;
}

.topbar-logo {
  font-family: 'Bebas Neue', sans-serif;
  font-size: 1.3rem;
  letter-spacing: 0.1em;
  color: var(--white);
}

.topbar-logo em { color: var(--red); font-style: normal; }

.topbar-nav { display: flex; align-items: center; gap: 0.25rem; }

.topbar-btn {
  background: none;
  border: none;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.58rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--muted);
  cursor: pointer;
  padding: 0.35rem 0.75rem;
  border-radius: 2px;
  transition: color 0.15s, background 0.15s;
}

.topbar-btn:hover { color: var(--white); background: var(--surface2); }

.topbar-contact {
  background: var(--red);
  color: var(--white);
  border: none;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.58rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  padding: 0.4rem 1rem;
  border-radius: 2px;
  cursor: pointer;
  margin-left: 0.5rem;
  transition: background 0.15s;
}

.topbar-contact:hover { background: #003585; }

/* ── Shell ── */
.shell {
  position: fixed;
  top: var(--topbar-h);
  left: 0; right: 0;
  bottom: 0;
  display: flex;
}

/* ── Left Panel ── */
.left {
  width: var(--left-w);
  min-width: var(--left-w);
  background: var(--surface);
  border-right: 1px solid var(--border2);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.left-scroll {
  flex: 1;
  overflow-y: auto;
  padding: 2rem 1.75rem;
  display: flex;
  flex-direction: column;
  gap: 0;
  scrollbar-width: none;
}
.left-scroll::-webkit-scrollbar { display: none; }

.brand { margin-bottom: 1.75rem; }

.brand-pill {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background: var(--red-dim);
  border: 1px solid rgba(0,40,104,0.4);
  padding: 0.25rem 0.65rem;
  border-radius: 20px;
  margin-bottom: 0.85rem;
}

.live-dot {
  width: 5px; height: 5px;
  background: var(--red);
  border-radius: 50%;
  animation: blink 1.8s ease-in-out infinite;
}

@keyframes blink { 0%,100% { opacity: 1; } 50% { opacity: 0.2; } }

.brand-pill-text {
  font-size: 0.55rem;
  letter-spacing: 0.25em;
  text-transform: uppercase;
  color: var(--red);
}

.brand-name {
  font-family: 'Bebas Neue', sans-serif;
  font-size: 3rem;
  line-height: 0.88;
  letter-spacing: 0.02em;
  color: var(--white);
}

.brand-name-outline {
  display: block;
  color: transparent;
  -webkit-text-stroke: 1.5px var(--red);
  margin-top: 0.1rem;
}

.brand-desc {
  margin-top: 0.9rem;
  font-family: 'Crimson Pro', serif;
  font-style: italic;
  font-size: 0.92rem;
  line-height: 1.55;
  color: var(--cream2);
}

/* ── Vinyl ── */
.vinyl-section {
  border-top: 1px solid var(--border2);
  border-bottom: 1px solid var(--border2);
  padding: 1.75rem 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.25rem;
}

.vinyl-stage { position: relative; width: 150px; height: 150px; }

.vinyl-glow {
  position: absolute;
  inset: -16px;
  border-radius: 50%;
  background: radial-gradient(circle, var(--red-glow) 0%, transparent 70%);
  opacity: 0;
  transition: opacity 0.6s;
}

.vinyl-stage.playing .vinyl-glow { opacity: 1; }

.record {
  width: 150px; height: 150px;
  border-radius: 50%;
  background:
    radial-gradient(circle at center, #111 0%, #111 20%, transparent 20.5%),
    repeating-radial-gradient(circle at center, #0a0a0a 0px, #0a0a0a 1px, #141414 1px, #141414 4px);
  box-shadow: 0 2px 20px rgba(0,0,0,0.9), inset 0 0 0 1px rgba(255,255,255,0.06);
  animation: spin 3.5s linear infinite paused;
  position: relative;
}

.vinyl-stage.playing .record { animation-play-state: running; }

@keyframes spin { to { transform: rotate(360deg); } }

.record-label {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
}

.record-label-inner {
  width: 44px; height: 44px;
  border-radius: 50%;
  background: var(--red);
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  animation: counter-spin 3.5s linear infinite paused;
}

.vinyl-stage.playing .record-label-inner { animation-play-state: running; }

@keyframes counter-spin { to { transform: rotate(-360deg); } }

.label-text {
  font-family: 'Bebas Neue', sans-serif;
  font-size: 0.5rem;
  letter-spacing: 0.1em;
  color: rgba(255,255,255,0.9);
  line-height: 1.1;
}

.arm {
  position: absolute; top: 5px; right: -8px;
  transform-origin: 100% 0%;
  transform: rotate(-28deg);
  transition: transform 0.9s cubic-bezier(0.4,0,0.2,1);
  pointer-events: none;
}

.vinyl-stage.playing .arm { transform: rotate(-12deg); }

.arm-line {
  width: 3px; height: 62px;
  background: linear-gradient(to bottom, #d0c8a8, #8a8070);
  border-radius: 2px;
  position: relative; left: 5px; top: 8px;
}

.arm-pivot {
  position: absolute; top: 0; right: 0;
  width: 14px; height: 14px;
  border-radius: 50%;
  background: var(--surface3);
  border: 2px solid var(--cream2);
}

.arm-head {
  position: absolute; bottom: -4px; left: 3px;
  width: 8px; height: 8px;
  background: var(--cream);
  border-radius: 1px;
  transform: rotate(45deg);
}

.now-playing { text-align: center; width: 100%; }

.np-label {
  font-size: 0.55rem;
  letter-spacing: 0.25em;
  text-transform: uppercase;
  color: var(--red);
  margin-bottom: 0.4rem;
}

.np-title {
  font-family: 'Bebas Neue', sans-serif;
  font-size: 1.25rem;
  letter-spacing: 0.04em;
  color: var(--white);
  line-height: 1.1;
  margin-bottom: 0.25rem;
  padding: 0 0.5rem;
}

.np-sub {
  font-size: 0.58rem;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--cream2);
}

/* ── Controls ── */
.controls { margin-bottom: 1.5rem; }

.progress { display: flex; align-items: center; gap: 0.6rem; margin-bottom: 1rem; }

.prog-t {
  font-size: 0.6rem;
  letter-spacing: 0.04em;
  color: var(--muted);
  min-width: 28px;
}

.prog-track {
  flex: 1; height: 4px;
  background: var(--surface3);
  border-radius: 2px;
  cursor: pointer;
  position: relative;
}

.prog-fill {
  height: 100%;
  background: var(--red);
  border-radius: 2px;
  width: 0%;
  position: relative;
  transition: width 0.2s linear;
}

.prog-fill::after {
  content: '';
  position: absolute;
  right: -5px; top: 50%;
  transform: translateY(-50%);
  width: 11px; height: 11px;
  background: var(--white);
  border-radius: 50%;
  box-shadow: 0 0 0 2px var(--red);
}

.ctrl-row { display: flex; align-items: center; justify-content: center; gap: 1.25rem; }

.ctrl-btn {
  background: none; border: none;
  color: var(--cream2);
  display: flex; align-items: center; justify-content: center;
  padding: 0.3rem; cursor: pointer;
  transition: color 0.15s;
  border-radius: 3px;
}

.ctrl-btn:hover { color: var(--white); }

.ctrl-play {
  width: 54px; height: 54px;
  background: var(--red);
  border: none; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  color: white; cursor: pointer;
  box-shadow: 0 4px 24px var(--red-glow);
  transition: transform 0.12s, box-shadow 0.15s;
}

.ctrl-play:hover { transform: scale(1.07); box-shadow: 0 6px 32px rgba(0,40,104,0.6); }

.vol-row {
  display: flex; align-items: center; justify-content: center;
  gap: 0.5rem; margin-top: 0.75rem;
}

.vol-icon { color: var(--muted); display: flex; align-items: center; }

.vol-slider {
  -webkit-appearance: none; appearance: none;
  width: 80px; height: 3px;
  background: var(--surface3);
  border-radius: 2px; outline: none; cursor: pointer;
}

.vol-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 10px; height: 10px;
  background: var(--cream);
  border-radius: 50%; cursor: pointer;
}

.vol-slider::-moz-range-thumb {
  width: 10px; height: 10px;
  background: var(--cream);
  border-radius: 50%; border: none; cursor: pointer;
}

/* ── Stats ── */
.left-stats {
  border-top: 1px solid var(--border2);
  padding-top: 1.25rem;
  display: flex; gap: 1.5rem;
}

.stat { display: flex; flex-direction: column; gap: 0.1rem; }

.stat-n {
  font-family: 'Bebas Neue', sans-serif;
  font-size: 2rem; color: var(--white); line-height: 1;
}

.stat-l {
  font-size: 0.52rem;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: var(--muted);
}

/* ── Right Panel ── */
.right {
  flex: 1;
  display: flex; flex-direction: column;
  overflow: hidden;
  background: var(--bg);
}

.cat-tabs {
  height: var(--tabs-h);
  border-bottom: 1px solid var(--border2);
  display: flex; align-items: stretch;
  padding: 0 1.5rem; gap: 0;
  overflow-x: auto; scrollbar-width: none;
  flex-shrink: 0;
  background: var(--surface);
}
.cat-tabs::-webkit-scrollbar { display: none; }

.cat-tab {
  background: none; border: none;
  border-bottom: 3px solid transparent;
  color: var(--muted);
  font-family: 'Bebas Neue', sans-serif;
  font-size: 1.1rem;
  letter-spacing: 0.1em;
  padding: 0 1.25rem;
  cursor: pointer;
  white-space: nowrap;
  margin-bottom: -1px;
  transition: color 0.15s, border-color 0.15s;
  display: flex; align-items: center; gap: 0.4rem;
}

.cat-tab:hover { color: var(--cream); }

.cat-tab.active { color: var(--white); border-bottom-color: var(--red); }

.tab-n {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.55rem;
  color: var(--red);
  letter-spacing: 0.05em;
}

.catalog-wrap {
  flex: 1; overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: var(--surface3) transparent;
}
.catalog-wrap::-webkit-scrollbar { width: 4px; }
.catalog-wrap::-webkit-scrollbar-thumb { background: var(--surface3); border-radius: 2px; }

.cat-panel { display: none; }
.cat-panel.active { display: block; }

.sec-head {
  padding: 1.5rem 1.75rem 1rem;
  border-bottom: 1px solid var(--border);
  display: flex; align-items: baseline; justify-content: space-between;
  gap: 1rem;
  background: var(--surface);
}

.sec-title {
  font-family: 'Bebas Neue', sans-serif;
  font-size: 1.8rem;
  letter-spacing: 0.04em;
  color: var(--white);
}

.sec-quote {
  font-family: 'Crimson Pro', serif;
  font-style: italic;
  font-size: 0.8rem;
  color: var(--muted);
  text-align: right;
  max-width: 260px;
  line-height: 1.4;
}

/* ── Song rows ── */
.song-row {
  display: grid;
  grid-template-columns: 48px 1fr auto;
  align-items: center;
  gap: 1rem;
  padding: 0.9rem 1.75rem;
  border-bottom: 1px solid var(--border);
  cursor: pointer;
  position: relative;
  opacity: 0;
  transform: translateX(8px);
  transition: opacity 0.3s ease, transform 0.3s ease, background 0.12s;
}

.song-row.show { opacity: 1; transform: translateX(0); }
.song-row:last-child { border-bottom: none; }
.song-row:hover { background: var(--surface2); }
.song-row.playing { background: var(--surface); }

.song-row.playing::before {
  content: '';
  position: absolute;
  left: 0; top: 0; bottom: 0;
  width: 3px;
  background: var(--red);
}

.row-box {
  width: 48px; height: 48px;
  background: var(--surface2);
  border: 1px solid var(--border2);
  border-radius: 4px;
  display: flex; align-items: center; justify-content: center;
  flex-shrink: 0;
  position: relative;
  transition: background 0.12s, border-color 0.12s;
}

.song-row:hover .row-box,
.song-row.playing .row-box { background: var(--red); border-color: var(--red); }

.row-n {
  font-family: 'Bebas Neue', sans-serif;
  font-size: 1.05rem;
  color: var(--cream2);
  transition: opacity 0.12s;
}

.song-row:hover .row-n,
.song-row.playing .row-n { opacity: 0; }

.row-icon {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
  color: white; opacity: 0;
  transition: opacity 0.12s;
}

.song-row:hover .row-icon { opacity: 1; }

.row-eq {
  position: absolute; inset: 0;
  display: none;
  align-items: flex-end; justify-content: center;
  gap: 2px; padding: 11px 13px;
}

.song-row.playing .row-eq { display: flex; }
.song-row.playing:hover .row-eq { display: none; }
.song-row.playing:hover .row-icon { opacity: 1; }

.eq {
  width: 3px; background: white; border-radius: 1px;
  animation: eqpulse 0.65s ease-in-out infinite alternate;
}
.eq:nth-child(1) { height: 35%; animation-delay: 0s; }
.eq:nth-child(2) { height: 100%; animation-delay: 0.18s; }
.eq:nth-child(3) { height: 55%; animation-delay: 0.09s; }
.eq:nth-child(4) { height: 75%; animation-delay: 0.27s; }

@keyframes eqpulse { from { transform: scaleY(0.2); } to { transform: scaleY(1); } }

.row-info { min-width: 0; }

.row-title {
  font-family: 'Bebas Neue', sans-serif;
  font-size: 1.05rem;
  letter-spacing: 0.04em;
  color: var(--white);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  line-height: 1.1;
  margin-bottom: 0.2rem;
  transition: color 0.12s;
}

.song-row.playing .row-title { color: var(--red); }

.row-tag {
  font-size: 0.57rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--cream2);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

.row-dur {
  font-size: 0.65rem;
  color: var(--muted);
  letter-spacing: 0.05em;
  flex-shrink: 0;
}

/* ── Contact Modal ── */
.modal-overlay {
  display: none;
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.75);
  z-index: 9999;
  align-items: center; justify-content: center;
  padding: 1rem;
}

.modal {
  background: var(--surface);
  border: 1px solid var(--border2);
  border-radius: 6px;
  padding: 2rem;
  width: 100%; max-width: 420px;
  position: relative;
}

.modal-close {
  position: absolute; top: 0.75rem; right: 0.75rem;
  background: none; border: none;
  color: var(--muted);
  font-size: 1.5rem; cursor: pointer; line-height: 1;
}

.modal-close:hover { color: var(--white); }

.modal-title {
  font-family: 'Bebas Neue', sans-serif;
  font-size: 1.6rem;
  letter-spacing: 0.04em;
  color: var(--white);
  margin-bottom: 0.25rem;
}

.modal-desc {
  font-size: 0.65rem;
  letter-spacing: 0.1em;
  color: var(--muted);
  margin-bottom: 1.25rem;
}

.modal-field { display: flex; flex-direction: column; gap: 0.3rem; margin-bottom: 1rem; }

.modal-label {
  font-size: 0.55rem;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--cream2);
}

.modal-input {
  background: var(--surface2);
  border: 1px solid var(--border2);
  border-radius: 3px;
  padding: 0.6rem 0.75rem;
  color: var(--white);
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.8rem;
  outline: none;
  transition: border-color 0.15s;
}

.modal-input:focus { border-color: var(--red); }
textarea.modal-input { resize: vertical; min-height: 80px; }

.modal-submit {
  width: 100%;
  background: var(--red); color: var(--white); border: none;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  padding: 0.75rem;
  border-radius: 3px;
  cursor: pointer;
  transition: background 0.15s;
}

.modal-submit:hover { background: #003585; }

.modal-success { display: none; text-align: center; padding: 1rem 0; }
.modal-success .check { font-size: 2.5rem; color: var(--red); margin-bottom: 0.5rem; }
.modal-success p { color: var(--cream2); font-size: 0.75rem; }

/* ════════════════════════════════════════
   MOBILE
════════════════════════════════════════ */
@media (max-width: 768px) {
  body { overflow: auto; height: auto; }

  .topbar {
    position: fixed; top: 0; left: 0; right: 0;
    height: 52px; padding: 0 1rem; z-index: 950;
  }

  .topbar-nav .topbar-btn { display: none; }
  .topbar-contact { font-size: 0.55rem; padding: 0.38rem 0.75rem; }

  .shell {
    position: static; display: block;
    margin-top: 52px;
    padding-bottom: var(--player-h);
  }

  .left {
    width: 100%; min-width: unset;
    border-right: none;
    border-bottom: 1px solid var(--border2);
  }

  .left-scroll { padding: 1.25rem 1rem; overflow: visible; }

  .brand, .vinyl-section, .left-stats { display: none; }

  .controls { display: flex; flex-direction: column; gap: 0.75rem; margin-bottom: 0; }

  .now-playing-mobile { display: flex; align-items: center; gap: 0.85rem; }

  .np-vinyl-mini {
    width: 44px; height: 44px;
    border-radius: 50%;
    background:
      radial-gradient(circle at center, #111 0%, #111 22%, transparent 22.5%),
      repeating-radial-gradient(circle at center, #0a0a0a 0px, #0a0a0a 1px, #141414 1px, #141414 4px);
    flex-shrink: 0;
    box-shadow: 0 2px 10px rgba(0,0,0,0.6);
    animation: spin 3.5s linear infinite paused;
    position: relative;
  }

  .np-vinyl-mini.spinning { animation-play-state: running; }

  .np-vinyl-mini::after {
    content: ''; position: absolute; inset: 30%;
    border-radius: 50%; background: var(--red);
  }

  .np-text { flex: 1; min-width: 0; }

  .np-text .np-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1rem; color: var(--white);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    padding: 0; text-align: left;
  }

  .np-text .np-sub { font-size: 0.55rem; color: var(--cream2); text-align: left; }

  .vol-row { display: none; }

  .right { width: 100%; }

  .cat-tabs {
    position: sticky; top: 52px; z-index: 800;
    height: 48px; padding: 0 0.75rem;
    background: var(--surface);
  }

  .cat-tab { font-size: 0.95rem; padding: 0 0.9rem; }
  .catalog-wrap { overflow: visible; }

  .sec-head {
    padding: 1rem 1rem 0.75rem;
    flex-direction: column; gap: 0.3rem; align-items: flex-start;
  }

  .sec-quote { text-align: left; max-width: 100%; font-size: 0.75rem; }
  .sec-title { font-size: 1.5rem; }

  .song-row { padding: 0.8rem 1rem; grid-template-columns: 42px 1fr auto; gap: 0.75rem; }
  .row-box { width: 42px; height: 42px; }
  .row-title { font-size: 0.95rem; }

  .mobile-player {
    display: flex;
    position: fixed; bottom: 0; left: 0; right: 0;
    height: var(--player-h);
    background: var(--cream);
    border-top: 3px solid var(--red);
    align-items: center; gap: 0; z-index: 950;
    box-shadow: 0 -6px 30px rgba(0,0,0,0.5);
  }

  .mob-ctrl { display: flex; align-items: center; gap: 0.6rem; padding: 0 1rem; flex-shrink: 0; }

  .mob-play {
    width: 44px; height: 44px;
    border-radius: 50%; background: var(--red);
    border: none; display: flex; align-items: center; justify-content: center;
    color: white; cursor: pointer;
    transition: transform 0.12s; flex-shrink: 0;
  }

  .mob-play:hover { transform: scale(1.05); }

  .mob-prev, .mob-next {
    background: none; border: none;
    color: rgba(0,0,0,0.4); cursor: pointer;
    display: flex; align-items: center;
    padding: 0.2rem; transition: color 0.15s;
  }

  .mob-prev:hover, .mob-next:hover { color: #000; }

  .mob-info {
    flex: 1; min-width: 0;
    padding: 0 0.75rem;
    border-left: 1px solid rgba(0,0,0,0.1);
    border-right: 1px solid rgba(0,0,0,0.1);
  }

  .mob-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1rem; letter-spacing: 0.06em;
    color: #000;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    line-height: 1.1;
  }

  .mob-cat {
    font-size: 0.52rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--red);
  }

  .mob-prog {
    height: 3px;
    background: rgba(0,0,0,0.1);
    margin-top: 0.4rem;
    border-radius: 2px;
  }

  .mob-prog-fill {
    height: 100%; background: var(--red);
    border-radius: 2px; width: 0%;
    transition: width 0.2s linear;
  }

  .mob-station {
    padding: 0 1rem;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1rem; letter-spacing: 0.12em;
    color: rgba(0,0,0,0.25);
    flex-shrink: 0; line-height: 1;
  }
}

.mobile-player { display: none; }
.now-playing-mobile { display: none; }

@media (max-width: 768px) {
  .now-playing-mobile { display: flex; }
  .vinyl-section .now-playing { display: none; }
}

</style>
</head>
<body>

<!-- TOP BAR -->
<div class="topbar">
  <div class="topbar-logo">Liberty <em>Jukebox</em></div>
  <div class="topbar-nav">
    <button class="topbar-btn">About</button>
    <button class="topbar-btn">Share</button>
    <button class="topbar-contact" onclick="document.getElementById('contactModal').style.display='flex'">Contact</button>
  </div>
</div>

<!-- SHELL -->
<div class="shell">

  <!-- LEFT PANEL -->
  <div class="left">
    <div class="left-scroll">

      <div class="brand">
        <div class="brand-pill">
          <span class="live-dot"></span>
          <span class="brand-pill-text">Now Broadcasting</span>
        </div>
        <div class="brand-name">
          Liberty
          <span class="brand-name-outline">Jukebox</span>
        </div>
        <p class="brand-desc">Music for people who believe the individual is the smallest minority worth defending.</p>
      </div>

      <div class="vinyl-section">
        <div class="vinyl-stage" id="vinylStage">
          <div class="vinyl-glow"></div>
          <div class="record">
            <div class="record-label">
              <div class="record-label-inner">
                <span class="label-text">LJ</span>
                <span class="label-text">FM</span>
              </div>
            </div>
          </div>
          <div class="arm">
            <div class="arm-pivot"></div>
            <div class="arm-line"><div class="arm-head"></div></div>
          </div>
        </div>
        <div class="now-playing">
          <div class="np-label">Now Playing</div>
          <div class="np-title" id="npTitle">Select a song</div>
          <div class="np-sub" id="npSub">Liberty Jukebox</div>
        </div>
      </div>

      <div class="now-playing-mobile">
        <div class="np-vinyl-mini" id="mobileVinyl"></div>
        <div class="np-text">
          <div class="np-title" id="npTitleMob">Select a song</div>
          <div class="np-sub" id="npSubMob">Liberty Jukebox</div>
        </div>
      </div>

      <div class="controls">
        <div class="progress">
          <span class="prog-t" id="progCur">0:00</span>
          <div class="prog-track" id="progTrack">
            <div class="prog-fill" id="progFill"></div>
          </div>
          <span class="prog-t" id="progTot">0:00</span>
        </div>
        <div class="ctrl-row">
          <button class="ctrl-btn" onclick="prevSong()">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
          </button>
          <button class="ctrl-play" onclick="togglePlay()">
            <svg id="playIco" width="16" height="18" viewBox="0 0 12 14" fill="currentColor" style="margin-left:2px"><path d="M1 1l10 6-10 6V1z"/></svg>
            <svg id="pauseIco" width="16" height="18" viewBox="0 0 24 24" fill="currentColor" style="display:none"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
          </button>
          <button class="ctrl-btn" onclick="nextSong()">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M6 18l8.5-6L6 6v12zm8.5-6l3.5 6V6z"/></svg>
          </button>
        </div>
        <div class="vol-row">
          <span class="vol-icon"><svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 8.5v7a4.49 4.49 0 0 0 2.5-3.5zM14 3.23v2.06a6.51 6.51 0 0 1 0 13.42v2.06A8.51 8.51 0 0 0 14 3.23z"/></svg></span>
          <input type="range" class="vol-slider" id="volSlider" min="0" max="100" value="80">
        </div>
      </div>

      <div class="left-stats">
        <div class="stat"><span class="stat-n">8</span><span class="stat-l">Songs</span></div>
        <div class="stat"><span class="stat-n">3</span><span class="stat-l">Categories</span></div>
        <div class="stat"><span class="stat-n">&infin;</span><span class="stat-l">Freedom</span></div>
      </div>

    </div>
  </div>

  <!-- RIGHT PANEL -->
  <div class="right">

    <div class="cat-tabs">
      <button class="cat-tab active" onclick="switchCat('money',this)">Sound Money &amp; Markets <span class="tab-n">4</span></button>
      <button class="cat-tab" onclick="switchCat('cronyism',this)">Cronyism &amp; Control <span class="tab-n">3</span></button>
      <button class="cat-tab" onclick="switchCat('anthems',this)">Anthems <span class="tab-n">1</span></button>
    </div>

    <div class="catalog-wrap" id="catalogWrap">

      <!-- ── SOUND MONEY & MARKETS ── -->
      <div class="cat-panel active" id="cat-money">
        <div class="sec-head">
          <div class="sec-title">Sound Money &amp; Markets</div>
          <div class="sec-quote">"The price system knows more than any planner ever will."</div>
        </div>

        <div class="song-row" data-title="21 Million" data-sub="Satoshi &middot; Sound Money" data-src="https://raw.githubusercontent.com/tjlark23/SFYS-music/main/TJs%20Playlist/21%20Million%20%28Satoshi%29.mp3" onclick="selectSong(this)">
          <div class="row-box"><span class="row-n">01</span><div class="row-icon"><svg width="12" height="14" viewBox="0 0 12 14" fill="currentColor"><path d="M1 1l10 6-10 6V1z" style="margin-left:1px"/></svg></div><div class="row-eq"><div class="eq"></div><div class="eq"></div><div class="eq"></div><div class="eq"></div></div></div>
          <div class="row-info"><div class="row-title">21 Million</div><div class="row-tag">Satoshi &middot; Sound Money</div></div>
          <div class="row-dur" id="dur-0">--:--</div>
        </div>

        <div class="song-row" data-title="They Keep Printing" data-sub="Monetary Policy" data-src="https://raw.githubusercontent.com/tjlark23/SFYS-music/main/TJs%20Playlist/They%20Keep%20Printing.mp3" onclick="selectSong(this)">
          <div class="row-box"><span class="row-n">02</span><div class="row-icon"><svg width="12" height="14" viewBox="0 0 12 14" fill="currentColor"><path d="M1 1l10 6-10 6V1z" style="margin-left:1px"/></svg></div><div class="row-eq"><div class="eq"></div><div class="eq"></div><div class="eq"></div><div class="eq"></div></div></div>
          <div class="row-info"><div class="row-title">They Keep Printing</div><div class="row-tag">Monetary Policy</div></div>
          <div class="row-dur" id="dur-1">--:--</div>
        </div>

        <div class="song-row" data-title="Today It's Billionaires" data-sub="Class Warfare &middot; Markets" data-src="https://raw.githubusercontent.com/tjlark23/SFYS-music/main/TJs%20Playlist/Today%20It%27s%20Billionaires.mp3" onclick="selectSong(this)">
          <div class="row-box"><span class="row-n">03</span><div class="row-icon"><svg width="12" height="14" viewBox="0 0 12 14" fill="currentColor"><path d="M1 1l10 6-10 6V1z" style="margin-left:1px"/></svg></div><div class="row-eq"><div class="eq"></div><div class="eq"></div><div class="eq"></div><div class="eq"></div></div></div>
          <div class="row-info"><div class="row-title">Today It's Billionaires</div><div class="row-tag">Class Warfare &middot; Markets</div></div>
          <div class="row-dur" id="dur-2">--:--</div>
        </div>

        <div class="song-row" data-title="Don't Price Me Out" data-sub="Housing &middot; Free Markets" data-src="https://raw.githubusercontent.com/tjlark23/SFYS-music/main/TJs%20Playlist/Don%27t%20Price%20Me%20Out%20%281%29.mp3" onclick="selectSong(this)">
          <div class="row-box"><span class="row-n">04</span><div class="row-icon"><svg width="12" height="14" viewBox="0 0 12 14" fill="currentColor"><path d="M1 1l10 6-10 6V1z" style="margin-left:1px"/></svg></div><div class="row-eq"><div class="eq"></div><div class="eq"></div><div class="eq"></div><div class="eq"></div></div></div>
          <div class="row-info"><div class="row-title">Don't Price Me Out</div><div class="row-tag">Housing &middot; Free Markets</div></div>
          <div class="row-dur" id="dur-3">--:--</div>
        </div>
      </div>

      <!-- ── CRONYISM & CONTROL ── -->
      <div class="cat-panel" id="cat-cronyism">
        <div class="sec-head">
          <div class="sec-title">Cronyism &amp; Control</div>
          <div class="sec-quote">"When buying and selling are controlled by legislation, the first things bought and sold are legislators."</div>
        </div>

        <div class="song-row" data-title="Collectivist City" data-sub="Collectivism &middot; Control" data-src="https://raw.githubusercontent.com/tjlark23/SFYS-music/main/TJs%20Playlist/Collectivist%20City.mp3" onclick="selectSong(this)">
          <div class="row-box"><span class="row-n">01</span><div class="row-icon"><svg width="12" height="14" viewBox="0 0 12 14" fill="currentColor"><path d="M1 1l10 6-10 6V1z" style="margin-left:1px"/></svg></div><div class="row-eq"><div class="eq"></div><div class="eq"></div><div class="eq"></div><div class="eq"></div></div></div>
          <div class="row-info"><div class="row-title">Collectivist City</div><div class="row-tag">Collectivism &middot; Control</div></div>
          <div class="row-dur" id="dur-4">--:--</div>
        </div>

        <div class="song-row" data-title="Friend of the Incumbent" data-sub="Bill Gurley &middot; Cronyism" data-src="https://raw.githubusercontent.com/tjlark23/SFYS-music/main/TJs%20Playlist/Friend%20of%20the%20Incumbent%20%28Bill%20Gurley%29%20%281%29.mp3" onclick="selectSong(this)">
          <div class="row-box"><span class="row-n">02</span><div class="row-icon"><svg width="12" height="14" viewBox="0 0 12 14" fill="currentColor"><path d="M1 1l10 6-10 6V1z" style="margin-left:1px"/></svg></div><div class="row-eq"><div class="eq"></div><div class="eq"></div><div class="eq"></div><div class="eq"></div></div></div>
          <div class="row-info"><div class="row-title">Friend of the Incumbent</div><div class="row-tag">Bill Gurley &middot; Cronyism</div></div>
          <div class="row-dur" id="dur-5">--:--</div>
        </div>

        <div class="song-row" data-title="School Zone" data-sub="Education &middot; Government" data-src="https://raw.githubusercontent.com/tjlark23/SFYS-music/main/TJs%20Playlist/School%20Zone%20%281%29.mp3" onclick="selectSong(this)">
          <div class="row-box"><span class="row-n">03</span><div class="row-icon"><svg width="12" height="14" viewBox="0 0 12 14" fill="currentColor"><path d="M1 1l10 6-10 6V1z" style="margin-left:1px"/></svg></div><div class="row-eq"><div class="eq"></div><div class="eq"></div><div class="eq"></div><div class="eq"></div></div></div>
          <div class="row-info"><div class="row-title">School Zone</div><div class="row-tag">Education &middot; Government</div></div>
          <div class="row-dur" id="dur-6">--:--</div>
        </div>
      </div>

      <!-- ── ANTHEMS ── -->
      <div class="cat-panel" id="cat-anthems">
        <div class="sec-head">
          <div class="sec-title">Anthems</div>
          <div class="sec-quote">"Live free or at least know what you're giving up."</div>
        </div>

        <div class="song-row" data-title="What if We Win" data-sub="Liberty Anthem" data-src="https://raw.githubusercontent.com/tjlark23/SFYS-music/main/TJs%20Playlist/What%20if%20We%20Win%20%281%29.mp3" onclick="selectSong(this)">
          <div class="row-box"><span class="row-n">01</span><div class="row-icon"><svg width="12" height="14" viewBox="0 0 12 14" fill="currentColor"><path d="M1 1l10 6-10 6V1z" style="margin-left:1px"/></svg></div><div class="row-eq"><div class="eq"></div><div class="eq"></div><div class="eq"></div><div class="eq"></div></div></div>
          <div class="row-info"><div class="row-title">What if We Win</div><div class="row-tag">Liberty Anthem</div></div>
          <div class="row-dur" id="dur-7">--:--</div>
        </div>
      </div>

    </div>
  </div>

</div>

<!-- MOBILE BOTTOM PLAYER -->
<div class="mobile-player">
  <div class="mob-ctrl">
    <button class="mob-prev" onclick="prevSong()">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
    </button>
    <button class="mob-play" onclick="togglePlay()">
      <svg id="mobPlayIco" width="14" height="16" viewBox="0 0 12 14" fill="currentColor" style="margin-left:2px"><path d="M1 1l10 6-10 6V1z"/></svg>
      <svg id="mobPauseIco" width="14" height="16" viewBox="0 0 24 24" fill="currentColor" style="display:none"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
    </button>
    <button class="mob-next" onclick="nextSong()">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M6 18l8.5-6L6 6v12zm8.5-6l3.5 6V6z"/></svg>
    </button>
  </div>
  <div class="mob-info">
    <div class="mob-title" id="mobTitle">Select a song</div>
    <div class="mob-cat" id="mobCat">Liberty Jukebox</div>
    <div class="mob-prog"><div class="mob-prog-fill" id="mobProgFill"></div></div>
  </div>
  <div class="mob-station">LJ&middot;FM</div>
</div>

<!-- CONTACT MODAL -->
<div class="modal-overlay" id="contactModal" onclick="if(event.target===this)this.style.display='none'">
  <div class="modal">
    <button class="modal-close" onclick="document.getElementById('contactModal').style.display='none'">&times;</button>
    <div id="contactForm">
      <div class="modal-title">Get In Touch</div>
      <div class="modal-desc">Questions, ideas, or just want to talk liberty.</div>
      <form onsubmit="submitContact(event)">
        <div class="modal-field">
          <label class="modal-label">Name</label>
          <input class="modal-input" type="text" id="cName" required placeholder="Your name">
        </div>
        <div class="modal-field">
          <label class="modal-label">Email</label>
          <input class="modal-input" type="email" id="cEmail" required placeholder="you@email.com">
        </div>
        <div class="modal-field">
          <label class="modal-label">Comments / Questions</label>
          <textarea class="modal-input" id="cMessage" required placeholder="What's on your mind?"></textarea>
        </div>
        <button type="submit" class="modal-submit">Send Message</button>
      </form>
    </div>
    <div class="modal-success" id="contactSuccess">
      <div class="check">&#10003;</div>
      <div class="modal-title">Message Sent</div>
      <p>We'll get back to you soon.</p>
    </div>
  </div>
</div>

<script>
// ════════════════════════════════════════
//   AUDIO ENGINE
// ════════════════════════════════════════
const audio = new Audio();
audio.volume = 0.8;
audio.preload = 'auto';
audio.crossOrigin = 'anonymous';

let isPlaying = false;
let currentRow = null;

function fmtTime(s) {
  if (isNaN(s) || !isFinite(s)) return '0:00';
  const m = Math.floor(s / 60);
  const sec = Math.floor(s % 60);
  return m + ':' + String(sec).padStart(2, '0');
}

function setPlayingUI(playing) {
  isPlaying = playing;
  const stage = document.getElementById('vinylStage');
  const mini = document.getElementById('mobileVinyl');

  if (playing) {
    stage.classList.add('playing');
    if (mini) mini.classList.add('spinning');
    document.getElementById('playIco').style.display = 'none';
    document.getElementById('pauseIco').style.display = 'block';
    document.getElementById('mobPlayIco').style.display = 'none';
    document.getElementById('mobPauseIco').style.display = 'block';
  } else {
    stage.classList.remove('playing');
    if (mini) mini.classList.remove('spinning');
    document.getElementById('playIco').style.display = 'block';
    document.getElementById('pauseIco').style.display = 'none';
    document.getElementById('mobPlayIco').style.display = 'block';
    document.getElementById('mobPauseIco').style.display = 'none';
  }
}

function updateNowPlaying(title, sub) {
  document.getElementById('npTitle').textContent = title;
  document.getElementById('npSub').textContent = sub;
  document.getElementById('npTitleMob').textContent = title;
  document.getElementById('npSubMob').textContent = sub;
  document.getElementById('mobTitle').textContent = title;
}

// Audio events
audio.addEventListener('timeupdate', () => {
  if (!audio.duration) return;
  const pct = (audio.currentTime / audio.duration) * 100;
  document.getElementById('progFill').style.width = pct + '%';
  document.getElementById('mobProgFill').style.width = pct + '%';
  document.getElementById('progCur').textContent = fmtTime(audio.currentTime);
});

audio.addEventListener('loadedmetadata', () => {
  document.getElementById('progTot').textContent = fmtTime(audio.duration);
  if (currentRow) {
    currentRow.querySelector('.row-dur').textContent = fmtTime(audio.duration);
  }
});

audio.addEventListener('ended', () => { nextSong(); });

function togglePlay() {
  if (!currentRow) {
    const first = document.querySelector('.cat-panel.active .song-row');
    if (first) selectSong(first);
    return;
  }
  if (isPlaying) {
    audio.pause();
    setPlayingUI(false);
  } else {
    audio.play().then(() => setPlayingUI(true)).catch(() => {});
  }
}

function selectSong(row) {
  document.querySelectorAll('.song-row.playing').forEach(r => r.classList.remove('playing'));
  row.classList.add('playing');
  currentRow = row;

  const title = row.dataset.title;
  const sub = row.dataset.sub;
  const src = row.dataset.src;

  updateNowPlaying(title, sub);

  document.getElementById('progFill').style.width = '0%';
  document.getElementById('mobProgFill').style.width = '0%';
  document.getElementById('progCur').textContent = '0:00';
  document.getElementById('progTot').textContent = '0:00';

  if (src) {
    audio.src = src;
    audio.play().then(() => setPlayingUI(true)).catch(() => setPlayingUI(false));
  }
}

function getAllRows() {
  return Array.from(document.querySelectorAll('.cat-panel.active .song-row'));
}

function prevSong() {
  const rows = getAllRows();
  const idx = rows.indexOf(currentRow);
  if (idx > 0) selectSong(rows[idx - 1]);
}

function nextSong() {
  const rows = getAllRows();
  const idx = rows.indexOf(currentRow);
  if (idx < rows.length - 1) {
    selectSong(rows[idx + 1]);
  } else {
    setPlayingUI(false);
  }
}

function switchCat(id, btn) {
  document.querySelectorAll('.cat-tab').forEach(t => t.classList.remove('active'));
  btn.classList.add('active');
  document.querySelectorAll('.cat-panel').forEach(p => p.classList.remove('active'));
  const panel = document.getElementById('cat-' + id);
  panel.classList.add('active');
  animateRows(panel);
  document.getElementById('catalogWrap').scrollTop = 0;
}

function animateRows(panel) {
  const rows = panel.querySelectorAll('.song-row');
  rows.forEach((r, i) => {
    r.classList.remove('show');
    setTimeout(() => r.classList.add('show'), i * 35);
  });
}

// Seek
document.getElementById('progTrack').addEventListener('click', (e) => {
  if (!audio.duration) return;
  const rect = e.currentTarget.getBoundingClientRect();
  const pct = (e.clientX - rect.left) / rect.width;
  audio.currentTime = pct * audio.duration;
});

// Volume
document.getElementById('volSlider').addEventListener('input', (e) => {
  audio.volume = e.target.value / 100;
});

// Contact form
function submitContact(e) {
  e.preventDefault();
  const data = {
    access_key: '56590443-7f71-46a8-bd67-4db0c516e74a',
    name: document.getElementById('cName').value,
    email: document.getElementById('cEmail').value,
    message: document.getElementById('cMessage').value,
    subject: 'Liberty Jukebox Contact'
  };
  fetch('https://api.web3forms.com/submit', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data)
  }).then(() => {
    document.getElementById('contactForm').style.display = 'none';
    document.getElementById('contactSuccess').style.display = 'block';
    setTimeout(() => {
      document.getElementById('contactModal').style.display = 'none';
      document.getElementById('contactForm').style.display = 'block';
      document.getElementById('contactSuccess').style.display = 'none';
      e.target.reset();
    }, 2500);
  });
}

// Preload durations
function preloadDurations() {
  document.querySelectorAll('.song-row').forEach((row, i) => {
    const src = row.dataset.src;
    if (!src) return;
    const a = new Audio();
    a.preload = 'metadata';
    a.crossOrigin = 'anonymous';
    a.addEventListener('loadedmetadata', () => {
      row.querySelector('.row-dur').textContent = fmtTime(a.duration);
    });
    a.src = src;
  });
}

// Init
animateRows(document.getElementById('cat-money'));
preloadDurations();
</script>

</body>
</html>
